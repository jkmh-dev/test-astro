---
import Layout from "../layouts/Layout.astro";
import PromoCarousel from "../components/PromoCarousel.astro";
import CategoryCard from "../components/CategoryCard.astro";
import productosJson from "../data/productos.json";

// Obtener las categorÃ­as dinÃ¡micamente desde el archivo JSON
const categorias = Object.keys(productosJson).map((categoria) => {
  const descripcionPorCategoria: Record<string, string> = {
    belleza: "Productos para resaltar tu belleza.",
    deporte: "Accesorios para un estilo de vida activo.",
    hogar: "Mejora tu espacio con productos esenciales.",
    moda: "Tendencias y estilos Ãºnicos.",
    tecnologia: "Los gadgets mÃ¡s innovadores."
  };

  const iconosPorCategoria: Record<string, string> = {
    belleza: "ğŸ’„",
    deporte: "ğŸ‹ï¸â€â™‚ï¸",
    hogar: "ğŸ¡",
    moda: "ğŸ‘—",
    tecnologia: "ğŸ“±"
  };

  return {
    nombre: categoria,
    icono: iconosPorCategoria[categoria] || "ğŸ“¦", // Icono por defecto
    descripcion: descripcionPorCategoria[categoria] || "DescripciÃ³n no disponible"
  };
});
---

<Layout title="Inicio">
  <!-- Carrusel de Promociones (Ocupa todo el ancho de la pantalla) -->
  <PromoCarousel />

  <!-- SecciÃ³n de CategorÃ­as -->
  <section class="container mx-auto px-4 py-12">
    <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Explora Nuestras CategorÃ­as</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {categorias.map((categoria) => (
        <CategoryCard categoria={categoria} />
      ))}
    </div>
  </section>
</Layout>