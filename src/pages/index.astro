---
import Layout from "../layouts/Layout.astro";
import PromoCarousel from "../components/PromoCarousel.astro";
import CategoryCard from "../components/CategoryCard.astro";
import productosJson from "../data/productos.json";

// Obtener las categorÃ­as dinÃ¡micamente desde el archivo JSON
const categorias = Object.keys(productosJson).map((categoria) => {
  const descripcionPorCategoria: Record<string, string> = {
    belleza: "Productos para resaltar tu belleza.",
    deporte: "Accesorios para un estilo de vida activo.",
    hogar: "Mejora tu espacio con productos esenciales.",
    moda: "Tendencias y estilos Ãºnicos.",
    tecnologia: "Los gadgets mÃ¡s innovadores.",
  };

  const iconosPorCategoria: Record<string, string> = {
    belleza: "ğŸ’„",
    deporte: "ğŸ‹ï¸â€â™‚ï¸",
    hogar: "ğŸ¡",
    moda: "ğŸ‘—",
    tecnologia: "ğŸ“±",
  };

  return {
    nombre: categoria,
    icono: iconosPorCategoria[categoria] || "ğŸ“¦", // Icono por defecto
    descripcion:
      descripcionPorCategoria[categoria] || "DescripciÃ³n no disponible",
  };
});
---

<Layout title="Inicio">
  <!-- Carrusel de Promociones (Ocupa todo el ancho de la pantalla) -->
  <PromoCarousel />

  <!-- SecciÃ³n de CategorÃ­as -->
  <section class="container mx-auto px-4 py-12">
    <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">
      Explora Nuestras CategorÃ­as
    </h2>

    <!-- Contenedor de las categorÃ­as con scroll vertical -->
    <div class="flex flex-wrap justify-center items-center space-x-4 space-y-2">
      {categorias.map((categoria) => <CategoryCard categoria={categoria} />)}
    </div>

    <!-- Contenido de CategorÃ­as -->
    <div id="categoria-contenido" class="categoria-contenido">
      <p>Selecciona una categorÃ­a para ver su contenido.</p>
    </div>

    
  </section>
</Layout>
